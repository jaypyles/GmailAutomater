CREATE TABLE IF NOT EXISTS last_checked (id INTEGER PRIMARY KEY, check_date TEXT);

CREATE TABLE IF NOT EXISTS label (id TEXT PRIMARY KEY, name TEXT NOT NULL UNIQUE);

CREATE TABLE IF NOT EXISTS email (id TEXT PRIMARY KEY, domain TEXT NOT NULL UNIQUE);

CREATE TABLE IF NOT EXISTS label_to_email (
  label_id TEXT NOT NULL,
  email_id TEXT NOT NULL,
  PRIMARY KEY (label_id, email_id),
  FOREIGN KEY (label_id) REFERENCES label (id),
  FOREIGN KEY (email_id) REFERENCES email (id)
);

CREATE TABLE IF NOT EXISTS deletion (
  id INTEGER PRIMARY KEY,
  domain TEXT NOT NULL UNIQUE
);
